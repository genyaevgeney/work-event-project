(function(t){function e(e){for(var r,i,s=e[0],c=e[1],l=e[2],p=0,d=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],r=!0,s=1;s<a.length;s++){var c=a[s];0!==n[c]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},n={app:0},o=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0b14":function(t,e,a){},"0d27":function(t){t.exports=JSON.parse('{"HomeLink":"Home","Login":"Login","Register":"Register","Dashboard":"Dashboard","LogoutLink":"Logout","Homepage":"Homepage","Articles":"Article","Title":"Title","Subtitle":"Subtitle","Body":"Body","Save":"Save","Edit":"Edit","Delete":"Delete","First":"First","Last":"Last","EditPage":"Edit Page","ErrorPage":"Error Page"}')},"0db3":function(t,e,a){"use strict";var r=a("ce35"),n=a.n(r);n.a},2970:function(t,e,a){"use strict";var r=a("6f30"),n=a.n(r);n.a},4894:function(t,e,a){},"507d":function(t,e,a){},"55c8":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},o=[],i={mounted:function(){"/"===this.$route.path&&this.$router.push({path:"/en"})}},s=i,c=(a("5c0b"),a("2877")),l=Object(c["a"])(s,n,o,!1,null,null,null),u=l.exports,p=(a("caad"),a("8c4f")),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},f=[],m={},g=Object(c["a"])(m,d,f,!1,null,null,null),h=g.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Homepage"},[a("Header",{attrs:{pageName:t.pageName}}),a("VideoBg",{attrs:{sources:["media/videos/homepage.mp4"],img:"demo/assets/bg.jpg"}})],1)},b=[],_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"header"},[a("div",{staticClass:"left-col"},[a("router-link",{attrs:{to:"/"+t.$i18n.locale}},[t._v(t._s(t.$t("HomeLink")))])],1),a("div",{staticClass:"middle-col"},[a("span",[t._v(t._s(t.pageName))])]),a("div",{staticClass:"right-col"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.$i18n.locale,expression:"$i18n.locale"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.$i18n,"locale",e.target.multiple?a:a[0])}}},t._l(t.langs,(function(e,r){return a("option",{key:"Lang"+r,domProps:{value:e}},[t._v(t._s(e))])})),0),a("router-link",{attrs:{to:"/"+t.$i18n.locale+"/dashboard/page=1"}},[t._v(t._s(t.$t("Dashboard")))])],1)])},$=[],D={data:function(){return{langs:["ru","en"]}},computed:{user:function(){return this.$store.state.user}},props:{pageName:{type:String,default:""}},created:function(){"Homepage"===this.pageName&&(this.pageName=this.$t("Homepage"))}},k=D,E=(a("e82c"),Object(c["a"])(k,_,$,!1,null,"993d3236",null)),P=E.exports,y=a("f7ec"),C={computed:{pageName:function(){return this.$t("Homepage")}},components:{VideoBg:y["a"],Header:P}},N=C,j=(a("993a"),Object(c["a"])(N,v,b,!1,null,"34ccd0a8",null)),S=j.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("Header",{attrs:{pageName:t.pageName}}),a("div",{staticClass:"container"},[a("ArticleSection",{attrs:{isCreateSection:!0},on:{create:function(e){return t.loadPageData(1)}}}),a("PaginationMenu",{attrs:{backendData:t.pageData}}),t._l(t.pageData.data,(function(e,r){return a("Article",{key:r,attrs:{id:e.id,title:e.title,subtitle:e.subtitle,content:e.content},on:{delete:function(e){return t.loadPageData(1)}}})}))],2)],1)},x=[],w=(a("a9e3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-section"},[a("h2",{staticClass:"headline"},[t._v(t._s(t.$t("Articles")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.title,expression:"formData.title"}],attrs:{type:"text",placeholder:t.$t("Title")},domProps:{value:t.formData.title},on:{input:function(e){e.target.composing||t.$set(t.formData,"title",e.target.value)}}}),t.errors.title?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.errors.title[0])+" ")]):t._e(),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.subtitle,expression:"formData.subtitle"}],attrs:{type:"text",placeholder:t.$t("Subtitle")},domProps:{value:t.formData.subtitle},on:{input:function(e){e.target.composing||t.$set(t.formData,"subtitle",e.target.value)}}}),t.errors.subtitle?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.errors.subtitle[0])+" ")]):t._e(),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.content,expression:"formData.content"}],attrs:{placeholder:t.$t("Body")},domProps:{value:t.formData.content},on:{input:function(e){e.target.composing||t.$set(t.formData,"content",e.target.value)}}}),t.errors.content?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.errors.content[0])+" ")]):t._e(),t.isCreateSection?a("button",{on:{click:t.createArticle}},[t._v(" "+t._s(t.$t("Save"))+" ")]):t._e(),t.isEditSection?a("button",{on:{click:t.editArticle}},[t._v(t._s(t.$t("Edit")))]):t._e()])}),H=[],A=a("bc3a"),L=a.n(A),M={data:function(){return{formData:{title:"",subtitle:"",content:""},errors:{}}},props:["isCreateSection","isEditSection","article"],mounted:function(){var t=this;this.isEditSection&&L.a.get("http://php-event-project.com/api/articles/".concat(this.$route.params.id,"/edit")).then((function(e){console.log("Article ".concat(t.$route.params.id),e),t.formData.title=e.data.title,t.formData.subtitle=e.data.subtitle,t.formData.content=e.data.content})).catch((function(t){console.log(t.response.data)}))},methods:{clearObject:function(t){for(var e in t)t[e]=""},createArticle:function(){var t=this;this.clearObject(this.errors),L.a.post("http://php-event-project.com/api/articles",this.formData).then((function(e){for(var a in t.formData)t.formData[a]="";console.log("New article",e),t.$emit("create"),t.$router.push("/".concat(t.$i18n.locale,"/dashboard/page=1"))})).catch((function(e){t.errors=e.response.data.errors,console.log("Errors",e.response.data.errors)}))},editArticle:function(){var t=this;this.clearObject(this.errors);var e=this.formData;e._method="put",L.a.post("http://php-event-project.com/api/articles/".concat(this.$route.params.id),e).then((function(e){console.log("Updated article",e),t.$router.push("/".concat(t.$i18n.locale,"/dashboard/page=1"))})).catch((function(e){t.errors=e.response.data.errors,console.log("Errors",e.response.data.errors)}))}}},T=M,B=(a("7162"),Object(c["a"])(T,w,H,!1,null,"6e834dcf",null)),F=B.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article"},[a("h2",{staticClass:"title"},[t._v(t._s(t.title))]),a("span",{staticClass:"subtitle"},[t._v(t._s(t.subtitle))]),a("p",{staticClass:"content"},[t._v(t._s(t.content))]),a("router-link",{staticClass:"edit",attrs:{to:"/"+t.$i18n.locale+"/article/edit/"+t.id}},[t._v(t._s(t.$t("Edit")))]),a("button",{staticClass:"delete",on:{click:t.deleteArticle}},[t._v(t._s(t.$t("Delete")))])],1)},I=[],J={props:["title","subtitle","content","id"],methods:{deleteArticle:function(){var t=this;L.a.delete("http://php-event-project.com/api/articles/".concat(this.id)).then((function(e){console.log(e),t.$emit("delete"),t.$router.push("/".concat(t.$i18n.locale,"/dashboard/page=1"))})).catch((function(t){console.log(t.response.data)}))}}},V=J,q=(a("759c"),Object(c["a"])(V,R,I,!1,null,"209f0105",null)),U=q.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Dashboard__pagination"},[t._v(" "+t._s(t.createIterator())+" "),t.backendData.pages>1?a("ul",{staticClass:"pagination text-center"},[1==t.backendData.current_page?a("li",{staticClass:"disabled"},[a("span",[t._v(t._s(t.$t("First")))])]):a("li",[a("router-link",{attrs:{to:"page=1"}},[t._v(t._s(t.$t("First")))])],1),1!==t.iterator?a("li",{staticClass:"disabled"},[a("span",[t._v("...")])]):t._e(),t._l(t.backendData.pages,(function(e){return[t.iterator<=Number(t.backendData.current_page)+4&&t.iterator<=t.backendData.pages?[t.iterator==t.backendData.current_page?a("li",{staticClass:"active"},[a("span",[t._v(t._s(t.iterator))])]):a("li",[a("router-link",{attrs:{to:"page="+t.iterator}},[t._v(t._s(t.iterator))])],1),t.iterator==Number(t.backendData.current_page)+4&&t.iterator<t.backendData.pages?a("li",{staticClass:"disabled"},[a("span",[t._v("...")])]):t._e(),t._v(" "+t._s(t.incrementIterator())+" ")]:t._e()]})),t.backendData.current_page==t.backendData.pages?a("li",{staticClass:"disabled"},[a("span",[t._v(t._s(t.$t("Last")))])]):a("li",[a("router-link",{attrs:{to:"page="+t.backendData.pages}},[t._v(t._s(t.$t("Last")))])],1)],2):t._e()])},G=[],K={props:["backendData"],methods:{createIterator:function(){this.iterator=Number(this.backendData.current_page)>5?Number(this.backendData.current_page)-4:1},incrementIterator:function(){this.iterator++}}},Q=K,W=(a("a6c6"),Object(c["a"])(Q,z,G,!1,null,"e862ffda",null)),X=W.exports,Y={data:function(){return{pageData:[]}},computed:{pageName:function(){return this.$t("Dashboard")}},components:{Header:P,Article:U,PaginationMenu:X,ArticleSection:F},mounted:function(){this.loadPageData(this.$route.params.num)},watch:{$route:function(t,e){this.loadPageData(this.$route.params.num)}},methods:{checkPaginationRoute:function(){(0!==this.pageData.pages&&this.$route.params.num>this.pageData.pages||isNaN(Number(this.$route.params.num)))&&this.$router.push("/".concat(this.$i18n.locale,"/error"))},loadPageData:function(t){var e=this;L.a.get("http://php-event-project.com/api/articles/{article}?page=".concat(t)).then((function(t){e.pageData=t.data,e.pageData.pages=Math.ceil(e.pageData.total/e.pageData.per_page),console.log("Page data",e.pageData),e.checkPaginationRoute()})).catch((function(t){console.log(t.response.data)}))}}},Z=Y,tt=(a("0db3"),Object(c["a"])(Z,O,x,!1,null,"3a504bb2",null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-page container"},[a("Header",{attrs:{pageName:t.pageName}}),a("ArticleSection",{attrs:{isEditSection:!0}})],1)},rt=[],nt={computed:{pageName:function(){return this.$t("EditPage")}},components:{ArticleSection:F,Header:P}},ot=nt,it=(a("2970"),Object(c["a"])(ot,at,rt,!1,null,"34b4ef90",null)),st=it.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header",{attrs:{pageName:t.pageName}}),t._m(0)],1)},lt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"notfound"}},[a("div",{staticClass:"notfound"},[a("div",{staticClass:"notfound-404"},[a("h3",[t._v("Oops! Page not found")]),a("h1",[a("span",[t._v("4")]),a("span",[t._v("0")]),a("span",[t._v("4")])])]),a("h2",[t._v("we are sorry, but the page you requested was not found")])])])}],ut={computed:{pageName:function(){return this.$t("ErrorPage")}},components:{Header:P}},pt=ut,dt=(a("e8d3"),Object(c["a"])(pt,ct,lt,!1,null,"ac54729a",null)),ft=dt.exports;r["a"].use(p["a"]);var mt=new p["a"]({mode:"history",routes:[{path:"/:lang",component:h,beforeEnter:function(t,e,a){var r=t.params.lang;return["en","ru"].includes(r)?(Et.locale!==r&&(Et.locale=r),a()):a("ru")},children:[{path:"dashboard/page=:num",name:"Dashboard",component:et,props:!0},{path:"article/edit/:id",name:"EditPage",component:st,props:!0},{path:"/",name:"Homepage",component:S,props:!0}]},{path:"*",name:"ErrorPage",component:ft}]}),gt=a("2f62");r["a"].use(gt["a"]);var ht=new gt["a"].Store({state:{},getters:{},mutations:{},actions:{}}),vt=a("00e7"),bt=a.n(vt),_t=a("a925"),$t=a("bbe3"),Dt=a("0d27"),kt={ru:$t,en:Dt};a.d(e,"i18n",(function(){return Et})),r["a"].use(bt.a),r["a"].config.productionTip=!1,r["a"].use(_t["a"]);var Et=new _t["a"]({locale:"ru",fallbackLocale:"ru",messages:kt});new r["a"]({router:mt,store:ht,i18n:Et,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var r=a("9c0c"),n=a.n(r);n.a},"5d68":function(t,e,a){},"6f30":function(t,e,a){},7162:function(t,e,a){"use strict";var r=a("4894"),n=a.n(r);n.a},"759c":function(t,e,a){"use strict";var r=a("5d68"),n=a.n(r);n.a},"993a":function(t,e,a){"use strict";var r=a("b0d6"),n=a.n(r);n.a},"9c0c":function(t,e,a){},a6c6:function(t,e,a){"use strict";var r=a("507d"),n=a.n(r);n.a},b0d6:function(t,e,a){},bbe3:function(t){t.exports=JSON.parse('{"HomeLink":"Главная","Login":"Войти","Register":"Регистрация","Dashboard":"Страница создания","LogoutLink":"Выйти","Homepage":"Главная страница","Articles":"Статья","Title":"Заголовок","Subtitle":"Подзаголовок","Body":"Содержание","Save":"Сохранить","Edit":"Редактировать","Delete":"Удалить","First":"Первая","Last":"Последняя","EditPage":"Страница редактирования","ErrorPage":"Страница ошибки"}')},ce35:function(t,e,a){},e82c:function(t,e,a){"use strict";var r=a("0b14"),n=a.n(r);n.a},e8d3:function(t,e,a){"use strict";var r=a("55c8"),n=a.n(r);n.a}});
//# sourceMappingURL=app.dcbf3617.js.map